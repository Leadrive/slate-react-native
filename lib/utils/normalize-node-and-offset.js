'use strict';Object.defineProperty(exports,"__esModule",{value:true});function normalizeNodeAndOffset(node,offset){if(node.nodeType==1&&node.childNodes.length){var isLast=offset==node.childNodes.length;var direction=isLast?'backward':'forward';var index=isLast?offset-1:offset;node=getEditableChild(node,index,direction);while(node.nodeType==1&&node.childNodes.length){var i=isLast?node.childNodes.length-1:0;node=getEditableChild(node,i,direction);}offset=isLast?node.textContent.length:0;}return{node:node,offset:offset};}function getEditableChild(parent,index,direction){var childNodes=parent.childNodes;var child=childNodes[index];var i=index;var triedForward=false;var triedBackward=false;while(child.nodeType==8||child.nodeType==1&&child.childNodes.length==0||child.nodeType==1&&child.getAttribute('contenteditable')=='false'){if(triedForward&&triedBackward)break;if(i>=childNodes.length){triedForward=true;i=index-1;direction='backward';continue;}if(i<0){triedBackward=true;i=index+1;direction='forward';continue;}child=childNodes[i];if(direction=='forward')i++;if(direction=='backward')i--;}return child||null;}exports.default=normalizeNodeAndOffset;